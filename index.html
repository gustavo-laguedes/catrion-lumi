<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Catrion Lumi - Or√ßamentos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Estilos -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app">

    <!-- LOGIN -->
    <section class="view active" data-view="login">
      <div class="auth-wrapper">
        <div class="logo-lumi-auth">
          <span>Logo Lumi</span>
        </div>

        <div class="auth-card">
          <h1 class="auth-title">Bem-vindo(a)</h1>
          <p class="auth-subtitle">
            Organize or√ßamentos, produ√ß√£o e finan√ßas em um s√≥ lugar.
          </p>

          <div class="form-group">
            <label for="login-email">E-mail</label>
            <input
              type="email"
              id="login-email"
              placeholder="seuemail@exemplo.com"
            />
          </div>

          <div class="form-group">
            <label for="login-senha">Senha</label>
            <div class="input-with-toggle">
              <input
                type="password"
                id="login-senha"
                placeholder="Digite sua senha"
              />
              <button
                class="toggle-pass"
                type="button"
                data-target="login-senha"
              >
                üëÅ
              </button>
            </div>
          </div>

          <div class="auth-row">
            <label class="checkbox-inline">
              <input type="checkbox" id="manter-conectado" />
              <span>Continuar conectado</span>
            </label>
            <button class="btn-text" type="button">Esqueci a senha</button>
          </div>

          <button class="btn btn-primary" type="button" id="btn-login">
            Acessar
          </button>
        </div>

        <div class="auth-footer">
          N√£o tem cadastro?
          <span class="link" id="link-cadastro">Cadastre-se</span>
        </div>
      </div>
    </section>

    <!-- CADASTRO -->
    <section class="view" data-view="register">
      <div class="auth-wrapper">
        <div class="logo-lumi-auth">
          <span>Logo Lumi</span>
        </div>

        <div class="auth-card">
          <h1 class="auth-title">Criar conta</h1>
          <p class="auth-subtitle">
            Leva s√≥ alguns instantes para come√ßar a usar o Lumi.
          </p>

          <div class="form-group">
            <label for="reg-nome">Nome</label>
            <input type="text" id="reg-nome" placeholder="Ex: Carla" />
          </div>

          <div class="form-group">
            <label for="reg-sobrenome">Sobrenome</label>
            <input type="text" id="reg-sobrenome" placeholder="Ex: Almeida" />
          </div>

          <div class="form-group">
            <label for="reg-email">E-mail</label>
            <input
              type="email"
              id="reg-email"
              placeholder="seuemail@exemplo.com"
            />
          </div>

          <div class="form-group">
            <label for="reg-senha">Senha</label>
            <div class="input-with-toggle">
              <input
                type="password"
                id="reg-senha"
                placeholder="Crie uma senha"
              />
              <button
                class="toggle-pass"
                type="button"
                data-target="reg-senha"
              >
                üëÅ
              </button>
            </div>
          </div>

          <div class="form-group">
            <label for="reg-senha-confirma">Confirmar senha</label>
            <div class="input-with-toggle">
              <input
                type="password"
                id="reg-senha-confirma"
                placeholder="Repita a senha"
              />
              <button
                class="toggle-pass"
                type="button"
                data-target="reg-senha-confirma"
              >
                üëÅ
              </button>
            </div>
          </div>

          <button class="btn btn-primary" type="button" id="btn-registrar">
            Criar conta
          </button>
        </div>

        <div class="auth-footer">
          J√° tem uma conta?
          <span class="link" id="link-voltar-login">Voltar para login</span>
        </div>
      </div>
    </section>

    <!-- HEADER AP√ìS LOGIN -->
    <header class="app-header" id="app-header">
      <div class="logo-lumi-top">
        <div class="logo-lumi-top-icon">L</div>
        <div class="logo-lumi-top-text">Lumi</div>
      </div>

      <div class="logo-empresa-top" id="logo-empresa-top">
        Logo da empresa (upload)
      </div>

      <button class="header-gear" type="button" data-target-view="config">
        ‚öô
      </button>
    </header>

    <!-- HOME -->
    <section class="view" data-view="home">
      <div class="home-scroll">
        <!-- Bloco Registrar -->
        <div class="home-section">
          <div class="section-title">Registrar</div>
          <p class="section-subtitle">
            Crie novos pedidos, lance finan√ßas ou organize sua agenda.
          </p>

          <div class="home-grid">
            <button class="tile-btn highlight" data-target-view="novo-pedido">
              <span class="title">Novo Pedido</span>
              <span class="caption">Monte um or√ßamento completo.</span>
            </button>

            <button class="tile-btn" data-target-view="financas">
              <span class="title">Finan√ßas</span>
              <span class="caption">Lan√ßar vendas e despesas.</span>
            </button>

            <button class="tile-btn" data-target-view="agenda-registro">
              <span class="title">Agenda</span>
              <span class="caption">Registrar produ√ß√µes e entregas.</span>
            </button>

            <button class="tile-btn" data-target-view="status-pedidos">
              <span class="title">Status</span>
              <span class="caption">Atualizar status dos pedidos.</span>
            </button>
          </div>
        </div>

        <!-- Bloco Cadastros -->
        <div class="home-section">
          <div class="section-title">Cadastros</div>
          <p class="section-subtitle">
            Organize clientes, produtos, mat√©ria-prima e fornecedores.
          </p>

          <div class="home-grid">
            <button class="tile-btn" data-target-view="cad-clientes">
              <span class="title">Clientes</span>
              <span class="caption">Dados e hist√≥rico.</span>
            </button>

            <button class="tile-btn" data-target-view="cad-produtos">
              <span class="title">Produtos</span>
              <span class="caption">Itens que voc√™ vende.</span>
            </button>

            <button class="tile-btn" data-target-view="cad-mp">
              <span class="title">Mat√©ria-prima</span>
              <span class="caption">Insumos usados na produ√ß√£o.</span>
            </button>

            <button class="tile-btn" data-target-view="cad-fornecedores">
              <span class="title">Fornecedores</span>
              <span class="caption">Onde voc√™ compra.</span>
            </button>
          </div>
        </div>

        <!-- Bloco Consultas -->
        <div class="home-section">
          <div class="section-title">Consultas</div>
          <p class="section-subtitle">
            Veja como est√° o estoque e o financeiro em poucos toques.
          </p>

          <div class="home-grid">
            <button class="tile-btn" data-target-view="consulta-estoque">
              <span class="title">Estoque</span>
              <span class="caption">Mat√©ria-prima e produtos.</span>
            </button>

            <button class="tile-btn" data-target-view="relatorios">
              <span class="title">Relat√≥rios</span>
              <span class="caption">Vis√£o geral do neg√≥cio.</span>
            </button>

            <button class="tile-btn" data-target-view="consulta-financas">
              <span class="title">Finan√ßas</span>
              <span class="caption">Entradas x sa√≠das.</span>
            </button>
          </div>
        </div>

        <!-- Bloco Config -->
        <div class="home-section config">
          <div class="section-title">Configura√ß√µes</div>
          <p class="section-subtitle">
            Ajuste sua conta e os dados do neg√≥cio.
          </p>

          <button class="config-btn" data-target-view="config">
            Configura√ß√µes e dados do neg√≥cio
          </button>
        </div>
      </div>
    </section>

    <!-- NOVO PEDIDO (estrutura b√°sica, sem JS ainda) -->
    <section class="view" data-view="novo-pedido">
      <div class="list-header">
        <span class="pill-tag">Registrar</span>
        <div class="list-title">Novo Pedido</div>
        <div class="list-subtitle">
          Selecione o cliente, adicione produtos e salve o pedido.
        </div>
      </div>

      <div class="home-section">
        <div class="section-title">Cliente</div>
        <div class="form-group">
          <label for="pedido-cliente-input">Cliente</label>
          <input
            type="text"
            id="pedido-cliente-input"
            placeholder="Digite para buscar cliente"
          />
          <div
            class="autocomplete-list"
            id="pedido-cliente-sugestoes"
          ></div>
        </div>

        <div
          class="cliente-info-card"
          id="pedido-cliente-info"
          style="display: none"
        >
          <div><strong>Telefone:</strong> <span id="pedido-cliente-tel"></span></div>
          <div><strong>Endere√ßo:</strong> <span id="pedido-cliente-end"></span></div>
          <div><strong>Cidade:</strong> <span id="pedido-cliente-cid"></span></div>
          <div><strong>Estado:</strong> <span id="pedido-cliente-est"></span></div>
        </div>
      </div>

      <div class="home-section">
        <div class="section-title">Itens do pedido</div>
        <div id="pedido-itens-container">
          <!-- linhas de produtos ser√£o adicionadas via JS depois -->
        </div>

        <button class="btn-text" type="button" id="btn-pedido-add-item">
          + Adicionar produto
        </button>

        <div class="totais-pedido mt-8">
          <div class="totais-row">
            <span class="total-label">Total venda:</span>
            <span class="total-valor total-venda" id="pedido-total-venda">
              R$ 0,00
            </span>
          </div>
          <div class="totais-row">
            <span class="total-label">Total custo:</span>
            <span class="total-valor total-custo" id="pedido-total-custo">
              R$ 0,00
            </span>
          </div>
          <div class="totais-row">
            <span class="total-label">Lucro:</span>
            <span class="total-valor" id="pedido-total-lucro">0%</span>
          </div>
        </div>

        <div class="modal-footer mt-8">
          <button class="btn-text" type="button" id="btn-pedido-cancelar">
            Cancelar
          </button>
          <button class="btn btn-primary" type="button" id="btn-pedido-salvar">
            Salvar pedido
          </button>
        </div>
      </div>
    </section>

    <!-- FINAN√áAS (estrutura b√°sica) -->
    <section class="view" data-view="financas">
      <div class="list-header">
        <span class="pill-tag">Finan√ßas</span>
        <div class="list-title">Lan√ßamentos financeiros</div>
        <div class="list-subtitle">
          Registre sa√≠das para investimento, compras de mat√©ria-prima, vendas e
          entradas de investimento.
        </div>
      </div>

      <div class="home-section">
        <div class="form-group">
          <label for="lanc-tipo">Tipo de lan√ßamento</label>
          <select id="lanc-tipo">
            <option value="">‚Äî selecione ‚Äî</option>
            <option value="saida-investimento">Sa√≠da para investimento</option>
            <option value="compra-mp">Compra de mat√©ria-prima</option>
            <option value="venda">Venda</option>
            <option value="entrada-investimento">Entrada de investimento</option>
          </select>
        </div>

        <!-- Blocos espec√≠ficos ser√£o controlados via JS depois -->
        <div class="lanc-bloco" id="bloco-saida-investimento" style="display:none">
          <div class="form-group">
            <label for="lanc-saida-valor">Valor</label>
            <input type="number" id="lanc-saida-valor" min="0" step="0.01" />
          </div>
          <div class="form-group">
            <label for="lanc-saida-tipo">Tipo de investimento</label>
            <input type="text" id="lanc-saida-tipo" />
          </div>
          <div class="form-group">
            <label for="lanc-saida-data">Data</label>
            <input type="date" id="lanc-saida-data" />
          </div>
        </div>

        <div class="lanc-bloco" id="bloco-compra-mp" style="display:none">
          <div class="form-group">
            <label for="lanc-mp-material">Material</label>
            <input type="text" id="lanc-mp-material" />
            <div
              class="autocomplete-list"
              id="lanc-mp-material-sugestoes"
            ></div>
          </div>
          <div class="form-group">
            <label for="lanc-mp-qtd">Quantidade</label>
            <input type="number" id="lanc-mp-qtd" min="0" step="0.01" />
          </div>
          <div class="form-group">
            <label for="lanc-mp-fornecedor">Fornecedor</label>
            <input type="text" id="lanc-mp-fornecedor" />
            <div
              class="autocomplete-list"
              id="lanc-mp-fornecedor-sugestoes"
            ></div>
          </div>
          <div class="form-group">
            <label for="lanc-mp-valor">Valor total</label>
            <input type="number" id="lanc-mp-valor" min="0" step="0.01" />
          </div>
          <div class="form-group">
            <label for="lanc-mp-data">Data</label>
            <input type="date" id="lanc-mp-data" />
          </div>
        </div>

        <div class="lanc-bloco" id="bloco-venda" style="display:none">
          <div class="form-group">
            <label for="lanc-venda-pedido">Or√ßamento / Pedido</label>
            <input type="text" id="lanc-venda-pedido" />
            <div
              class="autocomplete-list"
              id="lanc-venda-pedido-sugestoes"
            ></div>
          </div>

          <div class="form-group">
            <label>Descri√ß√£o dos materiais</label>
            <div class="descricao-caixa" id="lanc-venda-descricao">
              Selecione um pedido.
            </div>
          </div>

          <div class="form-group">
            <label>Valor do pedido</label>
            <div class="descricao-caixa destaque" id="lanc-venda-valor">
              R$ 0,00
            </div>
          </div>

          <div class="form-group checkbox-inline">
            <input type="checkbox" id="lanc-venda-parcial" />
            <span>Pago parcialmente</span>
          </div>

          <div id="lanc-venda-parcial-bloco" style="display:none">
            <div class="form-group">
              <label for="lanc-venda-valor-pago">Valor pago</label>
              <input
                type="number"
                id="lanc-venda-valor-pago"
                min="0"
                step="0.01"
              />
            </div>
            <div class="form-group">
              <label for="lanc-venda-data">Data do pagamento</label>
              <input type="date" id="lanc-venda-data" />
            </div>
          </div>

          <div id="lanc-venda-data-total-bloco">
            <div class="form-group">
              <label for="lanc-venda-data-total">Data do recebimento</label>
              <input type="date" id="lanc-venda-data-total" />
            </div>
          </div>
        </div>

        <div class="lanc-bloco" id="bloco-entrada-investimento" style="display:none">
          <div class="form-group">
            <label for="lanc-ent-valor">Valor</label>
            <input type="number" id="lanc-ent-valor" min="0" step="0.01" />
          </div>
          <div class="form-group">
            <label for="lanc-ent-desc">Descri√ß√£o</label>
            <textarea id="lanc-ent-desc" rows="2"></textarea>
          </div>
          <div class="form-group">
            <label for="lanc-ent-data">Data</label>
            <input type="date" id="lanc-ent-data" />
          </div>
        </div>

        <div class="modal-footer mt-8">
          <button class="btn-text" type="button" id="lanc-cancelar">
            Cancelar
          </button>
          <button class="btn btn-primary" type="button" id="lanc-salvar">
            Lan√ßar
          </button>
        </div>
      </div>
    </section>

    <!-- AGENDA (visual simplificado) -->
    <section class="view" data-view="agenda">
      <div class="list-header">
        <span class="pill-tag">Agenda</span>
        <div class="list-title">Agenda</div>
        <div class="list-subtitle">
          Visualiza√ß√£o mensal das atividades de produ√ß√£o, entregas e outros.
        </div>
      </div>

      <div class="agenda-wrapper">
        <div class="agenda-header-row">
          <button class="agenda-month-btn" type="button" id="agenda-prev">&lt;</button>
          <div class="agenda-month-label" id="agenda-month-label">m√™s/ano</div>
          <button class="agenda-month-btn" type="button" id="agenda-next">&gt;</button>
        </div>

        <div class="agenda-weekdays">
          <div>dom.</div>
          <div>seg.</div>
          <div>ter.</div>
          <div>qua.</div>
          <div>qui.</div>
          <div>sex.</div>
          <div>s√°b.</div>
        </div>

        <div class="agenda-grid" id="agenda-grid">
          <!-- dias v√£o ser renderizados via JS -->
        </div>

        <div class="agenda-legend">
          <div class="agenda-legend-item">
            <span class="legend-dot legend-today"></span>
            <span>Hoje</span>
          </div>
          <div class="agenda-legend-item">
            <span class="legend-dot legend-producao"></span>
            <span>Produ√ß√£o</span>
          </div>
          <div class="agenda-legend-item">
            <span class="legend-dot legend-entrega"></span>
            <span>Entrega</span>
          </div>
          <div class="agenda-legend-item">
            <span class="legend-dot legend-outros"></span>
            <span>Outros</span>
          </div>
        </div>

        <div class="agenda-dia-detalhes" id="agenda-dia-detalhes">
          <div class="agenda-dia-header">
            Selecione um dia para ver os compromissos.
          </div>
          <div class="agenda-dia-lista" id="agenda-dia-lista"></div>
        </div>
      </div>
    </section>

    <!-- CADASTROS (s√≥ estruturas, sem repetir tudo aqui) -->
    <section class="view" data-view="cad-clientes">
      <div class="list-header">
        <span class="pill-tag">Cadastros</span>
        <div class="list-title">Clientes</div>
        <div class="list-subtitle">
          Cadastro de clientes e consulta de hist√≥rico de pedidos.
        </div>
      </div>

      <div class="home-section">
        <div class="section-title">Novo cliente</div>
        <div class="form-group">
          <label for="cad-cliente-nome">Nome</label>
          <input type="text" id="cad-cliente-nome" />
        </div>
        <div class="form-group">
          <label for="cad-cliente-tel">Contato</label>
          <input type="text" id="cad-cliente-tel" />
        </div>
        <div class="form-group">
          <label for="cad-cliente-end">Endere√ßo</label>
          <input type="text" id="cad-cliente-end" />
        </div>
        <div class="form-row-2">
          <div class="form-group">
            <label for="cad-cliente-cid">Cidade</label>
            <input type="text" id="cad-cliente-cid" />
          </div>
          <div class="form-group">
            <label for="cad-cliente-est">Estado</label>
            <input type="text" id="cad-cliente-est" />
          </div>
        </div>

        <div class="modal-footer mt-4">
          <button class="btn-text" type="button" id="cad-cliente-limpar">
            Limpar
          </button>
          <button class="btn btn-primary" type="button" id="cad-cliente-salvar">
            Salvar cliente
          </button>
        </div>
      </div>

      <div class="home-section">
        <div class="section-title">Clientes cadastrados</div>
        <div id="lista-clientes-cad"></div>
      </div>
    </section>

    <!-- CONFIGURA√á√ïES -->
    <section class="view" data-view="config">
      <div class="list-header">
        <span class="pill-tag">Configura√ß√µes</span>
        <div class="list-title">Configura√ß√µes</div>
        <div class="list-subtitle">
          Ajuste os dados da conta e do neg√≥cio.
        </div>
      </div>

      <div class="home-section">
        <div class="section-title">Minha conta</div>
        <p class="section-subtitle">
          Ver e-mail cadastrado, sair do app ou excluir conta.
        </p>

        <div class="item-card">
          <div class="item-row">
            <span class="item-title">E-mail cadastrado</span>
          </div>
          <div class="item-meta" id="config-email">
            email@exemplo.com
          </div>
          <div class="item-actions">
            <button class="btn-text" type="button">Sair da conta</button>
            <button class="btn-text btn-text-danger" type="button">
              Excluir conta
            </button>
          </div>
        </div>
      </div>

      <div class="home-section">
        <div class="section-title">Dados do neg√≥cio</div>
        <div class="form-group">
          <label for="config-nome-negocio">Nome do neg√≥cio</label>
          <input type="text" id="config-nome-negocio" />
        </div>
        <div class="form-group">
          <label for="config-logo">Logotipo</label>
          <input type="file" id="config-logo" accept="image/*" />
        </div>
        <button class="btn btn-primary" type="button">
          Salvar dados do neg√≥cio
        </button>
      </div>
    </section>

    <!-- NAV INFERIOR -->
    <nav class="bottom-nav" id="bottom-nav">
      <div class="bottom-nav-inner">
        <button class="nav-item active" data-target-view="home">
          <span class="label">Home</span>
        </button>
        <button class="nav-item" data-target-view="pedidos">
          <span class="label">Pedidos</span>
        </button>
        <button class="nav-item" data-target-view="vendas">
          <span class="label">Vendas</span>
        </button>
        <button class="nav-item" data-target-view="agenda">
          <span class="label">Agenda</span>
        </button>
      </div>
    </nav>
  </div>

  <<script type="module" src="firebase.js"></script>
<script type="module" src="app.js"></script>
</body>
</html>
